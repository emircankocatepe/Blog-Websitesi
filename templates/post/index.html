{% extends 'base.html' %}


{% block body %}

    {#"{% url 'detail' id=post.id %}"#}

<div class="container mt-4">
  <div class="row row-cols-1 row-cols-md-3 g-4">
    {% for post in posts %}
    <div class="col">
      <div class="card h-100 card-post">
        {% if post.image %}
          <img src="{{ post.image.url }}" class="card-img-top" alt="{{ post.baslik }}">
        {% endif %}

        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1 text-uppercase">{{ post.baslik }}</h5>
          <small class="text-muted meta mb-3">{{ post.yayimlanma_tarihi|timesince }} Ã¶nce | by {{ post.user.get_full_name }}</small>

          <p class="card-text post-excerpt">
            {{ post.metin|safe|linebreaks|truncatechars:180 }}
          </p>

          <div class="mt-auto d-flex gap-2 align-items-center">
            <a href="{{ post.get_absolute_url }}" class="btn btn-primary btn-sm">Review</a>

            {% if request.user.is_authenticated %}
              <a href="{{ post.get_update_url }}" class="btn btn-link btn-sm">Update</a>
              <a href="{{ post.get_delete_url }}" class="btn btn-danger btn-sm">Delete</a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>


            <div class="row" >
                <!-- <img src="..." class="card-img-top" alt="..."> -->
                <div class="col-md-6 col-md-offset-3" >
                    <div class="pagination">
                        <span class="step-links">
                            {% if posts.has_previous %}
                                <a href="?page=1">&laquo; first</a>
                                <a href="?page={{ posts.previous_page_number }}{% if request.GET.q %}&q={{request.GET.q}}{% endif %}">previous</a>
                            {% endif %}

                            <span class="current">
                                Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
                            </span>

                            {% if posts.has_next %}
                                <a href="?page={{ posts.next_page_number }}{% if request.GET.q %}&q={{request.GET.q}}{% endif %}">next</a>
                                <a href="?page={{ posts.paginator.num_pages }}{% if request.GET.q %}&q={{request.GET.q}}{% endif %}">last &raquo;</a>
                            {% endif %}
                        </span>
                    </div>
            </div>
        </div>
    </div>


{% endblock %}